---
date: "2006-10-20T00:00:00Z"
tags:
- Linux
- Subversion
title: Subversion 서버 응답이 느린 문제
---

업무에 서브버전(Subversion)을 사용한지 오래 되었지만 가끔씩 서버(svnserve)가 늦게 응답을 주는 경우가 종종 있었다. 가끔씩 벌어지는 현상이고, 서버 데몬을 재시작하면 해결되는 문제라 무시하고 있다가 문득 구글링을 해보고 원인을 알았다.

서브버전은 사용자 인증을 위해 리눅스에서 `/dev/random` 난수 생성 장치를 이용하는데, 엔트로피가 부족할 경우 채워질때까지 대기하기 때문에 발생하는 현상이다. 서버 장비는 키보드도 거의 사용안하고, IDE 디스크도 없기 때문에 난수 엔트로피를 채워줄 정보가 부족해서 발생하는 경우이다.

검색을 해보면 설정 옵션을 변경해서 다시 컴파일하라는 둥, 데비안 패키지에 길들여진 내게 무리한 방법만 제시하길래 그냥 다음과 같이 무식하고 단순하며 보안에 위험하다는 방법으로 해결했다.

    # mv /dev/random /dev/random.orig
    # ln -sf /dev/urandom /dev/random

즉, `/dev/random` 장치 대신 `/dev/urandom` 장치를 무조건 사용하게 한뒤, 서브버전 데몬을 재시작하면 된다.
